<html>
  <head>
  </head>
  <body>
    <h1>The Fetch API</h1>
    <ul>
    </ul>
  <script>
    fetch('https://swapi.dev/api/people')
      .then( response => {
        return response.json()
      })
      .then( data => {
        const ul = document.querySelector('ul');
        const html = data.results.map( (person, idx) => {
          return `
            <li><a href='#${idx}'>${ person.name }</a></li>
          `;
        }).join('');
        ul.innerHTML = html;
      });
    window.addEventListener('hashchange', ()=> {
      const idx = window.location.hash.slice(1);
      console.log(idx);
      console.log(`TODO make another api call with ${idx}`);
    });
    const idx = window.location.hash.slice(1);
    console.log(idx);
    console.log(`TODO make another api call with ${idx}`);
  </script>
  </body>
</html>